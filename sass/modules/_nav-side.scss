// ------------------------------------------------------------
// SIDEBAR MODULE - MOBILE FIRST
// ------------------------------------------------------------

// =============== VARIABLES ===============
// See base/_variables

// =============== LEFT SIDEBAR ===============

@if $include-sidebar-left != false { 
  .content {
    //padding: 4em;
    //margin-top: $navigation-height;
    min-width: 0;
    margin-left: 0; //mobile first, nav stays on top    
    @include media($sidebar-left-breakpoint) {
  ///      min-width: $b-vp; // TODO: change this to more stable variable
      margin-left:  $sidebar-width; // on larger screens, push out content to make way for sidebar
    }
  }
  .sidebar-left {
    overflow: visible;
    width: 100%; //mobile first, sidebar spans top of screen
    height: auto;
    position: static;
    text-align: center;
    padding: $sidebar-padding-top 0 $sidebar-padding-bottom 0;
    background-color: $sidebar-color-background;
    background-repeat: repeat;
    //margin-top: $sidebar-margin-top;
    color: $sidebar-color;
    display: none;

    h2.logo {
      padding-top: .25em;
    }


    a {
      color: #505050; // TODO: Replace with variable
    }
    /* Sidebar nav */
    .nav-sidebar {
      list-style: none;        
      width: 100%;

    }
    .nav-sidebar li a{
      width: 100%;
      text-align: right;
      display: block;
      padding-top: .5em;
      padding-bottom: .5em;
      
    }
    .nav-sidebar li a:hover,
    .nav-sidebar li a:focus {
      text-decoration: none;
      color: lighten($sidebar-color, 5%);
      background-color: lighten($sidebar-color-background, 95%);
    }
    .nav-sidebar li.active a {
      color: darken($sidebar-color, 33%);
    }
    hr {
       margin:1em auto;
      border-top: 1px solid lighten($sidebar-color-background, 3%);
    }
    h1 {
      font-size: $base-font-size * 3.25; // 16 * 2.25 = 36px
      font-weight: 300;
      text-transform: uppercase;    
      @include media($breakpoint) { 
        font-size: $base-font-size * 1.6; // 16 * 2.25 = 36px        
      }
      @include media($breakpoint) { 
        font-size: $base-font-size * 2.25; // 16 * 2.25 = 36px
      }
    }        
    @include media($breakpoint) {
      width: $sidebar-width; // larger screens show the sidebar at this width
      height: 100%;
      position: fixed;
      display: block;
      top: 0;//$navigation-height;
      left: 0;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
    }
  }
}
@else { // ELSE, if not showing the left sidebar, hide it in case it's called in templates
  .sidebar-left {
      display:none;
  }
}

// =============== RIGHT SIDEBAR ===============
@if $include-sidebar-right != false {

.content {
  margin-right: 0;
  @include media($sidebar-right-breakpoint) {
      margin-right:  $sidebar-right-width;
  }
}
.sidebar-right {
  margin-top: $navigation-height;
  clear: both;
    overflow: hidden;
    z-index: 1000;
    width: 100%;
    height: auto;
    position: static;
    text-align: left;
    padding: 2em 7em 4em 2em;
    background-color: #f9f9f9;//$sidebar-right-color-background;
    color: $sidebar-right-color;

    @include media($sidebar-right-breakpoint) {
      padding: 2em 3em;

      section:first-child {
        margin-top: 37% !important;
      }
      section:last-child {
        margin-bottom: 10% !important;
      }
    }
    @include media($sidebar-left-breakpoint, $sidebar-right-breakpoint) {

      @if $include-sidebar-left != false {
          margin-left: $sidebar-width;
          width: 100% - $sidebar-width;
      }
    }
    @include media($sidebar-right-breakpoint) {
      width: $sidebar-right-width;
      height: 100%;
      position: fixed;
      top: 0;
      right: 0;
      overflow-y: scroll;
      -webkit-overflow-scrolling: touch;
    }
  }
}

@else {
  .sidebar-right {
      display:none;
  }
}